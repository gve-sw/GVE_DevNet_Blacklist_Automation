{% extends 'base.html' %}

{% block header %}
	<h1>{% block title %}<u>Main Dashboard</u>{% endblock %}</h1>
{% endblock %}

{% block content %}
	<form method="post">
		<!-- Available Organization Table -->
		<div class="row base-margin">
			<div class="col-12 panel panel--raised" style="background-color:#ced4da;">
				<div class="row base-margin-top">
					<div class="col-3"></div>
					<div class="col-3">
						<h3><u>FMC Connection:</u></h3>
					</div>
					<div class="col-3">
						<button class="btn btn--success btn--justified" name="fmcconnect" value="connected">Connected</button>
					</div>
					<div class="col-3"></div>
				</div>
				<div class="row base-margin-top">
					<div class="col-1"></div>
					<div class="col-10" style="text-align:center;">
						<h3><u>Active Network Intelligence:</u></h3>
						<div class="responsive-table">
							<table class="table table--striped table--bordered" aria-label="Bordered Incident table" style="background-color:white;">
								<thead>
									<tr>
										<th class="col-8 sortable">Name <span class="sort-indicator icon-dropdown"></span></th>
										<th class="col-4 sortable">Automated <span class="sort-indicator icon-dropdown"></span></th>
									</tr>
								</thead>
								<tbody>
								{% for urllist in url_Lists %}
									<tr>
										<td>{{ urllist }}</td>
										{% if urllist == autoUrlList %}
										<td>
											<button class="btn btn--success btn--justified" name="autoUrlList" value="{{ urllist }}">
												<span class="icon-check-outline"></span>
											</button>
										</td>
										{% else %}
										<td>
											<button class="btn btn--justified" name="autoUrlList" value="{{ urllist }}" style="background-color: #1c04e4; color:white;">
												<span class="icon-presence-offline"></span>
											</button>
										</td>
										{% endif %}
									</tr>
								{% endfor %}
								</tbody>
							</table>
						</div>
					</div>
					<div class="col-1"></div>
				</div>
			</div>
		</div>
		<div class="row base-margin">
			<div class="col-12 panel panel--raised" style="background-color:#ced4da;">
				<div class="row base-margin-top">
					<div class="col-1"></div>
					<div class="col-10" style="text-align:center;">
						<h3><u>Automated Task Log:</u></h3>
						<div class="responsive-table">
							<table class="table table--striped table--bordered" aria-label="Bordered Incident table" style="background-color:white;">
								<thead>
									<tr>
										<th class="col-4 sortable">Time <span class="sort-indicator icon-dropdown"></span></th>
										<th class="col-4 sortable">Type <span class="sort-indicator icon-dropdown"></span></th>
										<th class="col-8 sortable">Description <span class="sort-indicator icon-dropdown"></span></th>
									</tr>
								</thead>
								<tbody>
								{% for task in task_log %}
									<tr>
										<td>{{ task['task_time'] }}</td>
										<td>{{ task['type'] }}</td>
										<td>{{ task['description'] }}</td>
									</tr>
								{% endfor %}
								</tbody>
							</table>
						</div>
					</div>
					<div class="col-1"></div>
				</div>
			</div>
		</div>
	</form>
{% endblock %}